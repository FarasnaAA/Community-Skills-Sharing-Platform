{% load static %}
{% include 'header.html' %}


<link rel="stylesheet" href="{% static 'css/teacher_earnings.css' %}">
<div class="earnings-container">
    <div class="earnings-container">
        <h2>My Earnings</h2>
    
        <div class="earnings-summary">
            <p>Total Earnings: ₹{{ total_earnings }}</p>
            <p>Pending Balance: ₹{{ pending_balance }}</p>
        </div>
    
        <h3>Completed Payments</h3>
        <table class="earnings-table">
            <tr>
                <th>User</th>
                <th>Course</th>
                <th>Amount</th>
                <th>Date</th>
            </tr>
            {% for payment in completed_payments %}
            <tr>
                <td>{{ payment.skill.user.username }}</td>  <!-- Display user name -->
                <td>{{ payment.skill.skill_name}}</td>    <!-- Display course name -->
                <td>₹{{ payment.skill.price }}</td>        <!-- Display amount -->
                <td>{{ payment.created_at|date:"Y-m-d H:i" }}</td>  <!-- Format date -->
            </tr>
            {% empty %}
            <tr>
                <td colspan="4">No completed payments found.</td>
            </tr>
            {% endfor %}
        </table>
    
        <button class="withdraw-btn">Withdraw Funds</button>
    </div>


{% include 'footer.html' %}
